---
import { Image } from "astro:assets";
import InteractiveCard from "../InteractiveCard.astro";
import appDesktopImage from "../../assets/AppDesktop.webp";
import { repoUrl, appUrl } from "../../config";
import SimpleBackground from "../backgrounds/SimpleBackground.astro";
import GradientAnimationBackground from "../backgrounds/GradientAnimationBackground.astro";
---

<section
  class="relative flex pb-6 md:pb-0 w-full min-h-screen overflow-hidden bg-gray-900 px-6"
>
  <SimpleBackground />
  <GradientAnimationBackground />
  <div class="absolute top-0 left-0 w-full h-full bg-gray-900/65"></div>
  <div class="w-full flex flex-col items-center mt-40 space-y-6 z-10">
    <div class="animate-fade-in-up-scale">
      <span
        class="inline-flex items-center gap-2 px-3 py-1 rounded-xs text-sm font-semibold bg-blue-900 text-blue-200 border border-blue-700 select-none"
      >
        <svg class="size-3.5" viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M10.9999 12L3.92886 19.0711L2.51465 17.6569L8.1715 12L2.51465 6.34317L3.92886 4.92896L10.9999 12ZM10.9999 19H20.9999V21H10.9999V19Z"
          ></path>
        </svg>
        Under development
      </span>
    </div>

    <div class="animate-fade-in-up-scale animation-delay-200">
      <h1
        class="text-5xl md:text-6xl font-extrabold tracking-tight text-white text-center leading-12 sm:leading-16"
      >
        Think, ask, <span class="hero-learn-text">learn</span>
      </h1>
    </div>

    <div class="animate-fade-in-up animation-delay-400 relative">
      <p
        class="max-w-2xl text-lg sm:text-xl text-gray-200 text-center font-semibold tracking-normal leading-8"
      >
        Organize, analyze, and learn from your own knowledge. Ask questions,
        take notes, and gain valuable insights.
        <span class="font-bold">All in one platform.</span>
      </p>
    </div>

    <div
      class="animate-fade-in-up animation-delay-600 w-full md:w-auto flex flex-col md:flex-row justify-center gap-4"
    >
      <div class="animate-fade-in-scale animation-delay-800 w-full md:w-auto">
        <a
          href={appUrl}
          class="group relative inline-flex h-12 items-center justify-center overflow-hidden rounded-xs bg-blue-600 px-6 md:px-8 font-semibold text-white hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900 select-none w-full md:w-auto"
        >
          Start exploring
        </a>
      </div>
      <div class="animate-fade-in-scale animation-delay-1000 w-full md:w-auto">
        <a
          href={repoUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="bg-gray-900 text-white hover:bg-gray-800 group relative inline-flex h-12 items-center justify-center overflow-hidden rounded-xs border border-gray-800 px-6 md:px-8 font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 select-none w-full md:w-auto"
        >
          Source code
        </a>
      </div>
    </div>

    <InteractiveCard
      class="p-4 mx-4 md:mx-0 w-4/5 my-12 hidden md:block animate-fade-in-up-scale animation-delay-1200"
      style="opacity: 0;"
    >
      <div class="relative overflow-hidden rounded-xs">
        <Image
          src={appDesktopImage}
          alt="Escruta Desktop Application Interface"
          class="w-full h-auto select-none border border-gray-700/60"
          loading="lazy"
        />
      </div>
    </InteractiveCard>
  </div>
</section>

<style>
  @keyframes hero-image-fade {
    from {
      opacity: 0;
      transform: scale(1.05);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes hero-overlay-fade {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-in-up-scale {
    from {
      opacity: 0;
      transform: translateY(40px) scale(0.98);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes fade-in-scale {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .animate-hero-image {
    animation: hero-image-fade 1.4s ease-out forwards;
    opacity: 0;
  }

  .animate-hero-overlay {
    animation: hero-overlay-fade 1s ease-out 0.3s forwards;
    opacity: 0;
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.8s ease-out forwards;
    opacity: 0;
  }

  .animate-fade-in-up-scale {
    animation: fade-in-up-scale 0.8s ease-out forwards;
    opacity: 0;
  }

  :global(.interactive-card.animate-fade-in-up-scale) {
    animation: fade-in-up-scale 0.8s ease-out forwards;
  }

  .animate-fade-in-scale {
    animation: fade-in-scale 0.8s ease-out forwards;
    opacity: 0;
  }

  .animation-delay-200 {
    animation-delay: 0.2s;
  }
  .animation-delay-400 {
    animation-delay: 0.4s;
  }
  .animation-delay-600 {
    animation-delay: 0.6s;
  }
  .animation-delay-800 {
    animation-delay: 0.8s;
  }
  .animation-delay-1000 {
    animation-delay: 1s;
  }
  .animation-delay-1200 {
    animation-delay: 1.2s;
  }

  :global(.interactive-card.animation-delay-1200) {
    animation-delay: 1.2s;
  }

  .hero-learn-text {
    color: var(--color-blue-300);
    text-shadow:
      0 1px 0 var(--color-blue-500),
      0 2px 2px rgba(3, 136, 252, 0.15),
      0 0 20px rgba(75, 171, 253, 0.2),
      0 0 2px rgba(255, 255, 255, 0.1);
  }
</style>

<script>
  const scrollIndicator = document.getElementById("scroll-indicator");
  scrollIndicator?.addEventListener("click", () => {
    const showcase = document.getElementById("showcase");
    if (showcase) {
      const elementPosition = showcase.getBoundingClientRect().top;
      window.scrollTo({
        top: elementPosition + window.pageYOffset - 60,
        behavior: "smooth",
      });
    }
  });
</script>
